package View;

import java.awt.BorderLayout;
import java.awt.GridLayout;

import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;

import Dao.BranchDaoImpl;
import Dao.CustomerDaoImpl;
import Model.Branch;
import Model.Customer;

public class AccountCreateForm extends BaseWindow {
	
	private JLabel numberLabel;
	private JTextField numberField;
	
	private JLabel accountTypeLabel;
	private JComboBox accountTypeCombo;
	
	private JLabel balanceLabel;
	private JTextField balanceField;
	
	private JLabel branchLabel;
	private JComboBox branchCombo;
	
	private JLabel customerLabel;
	private JComboBox customerCombo;

	private JButton createButton;
	private JButton cancelButton;
	
	private JPanel panel;
	private BranchDaoImpl branchDao;
	private CustomerDaoImpl customerDao;
	
	public AccountCreateForm() {
		initializeComponent();
	}
	
	public void initializeComponent() {
		
		this.branchDao = new BranchDaoImpl();
		this.customerDao = new CustomerDaoImpl();
		
		numberLabel = new JLabel("Account Number : ");
		numberField = new JTextField();
		
		accountTypeLabel = new JLabel("Account Type : ");
		accountTypeCombo = new JComboBox<>(new String[] {"Saving", "Loan", "Investment"});
		
		balanceLabel = new JLabel("Balance : ");
		balanceField = new JTextField();
		
		branchLabel = new JLabel("Branch : ");
		branchCombo = new JComboBox<>(branchDao.getAll().toArray(new Branch[0]));
		
		customerLabel = new JLabel("Customer : ");
		customerCombo = new JComboBox<>(customerDao.getAll().toArray(new Customer[0]));
		
		createButton = new JButton("Create");
		cancelButton = new JButton("Cancel");
		
		panel = new JPanel();
		panel.setLayout(new GridLayout(4, 2));
		
		panel.add(numberLabel);
		panel.add(numberField);
		panel.add(balanceLabel);
		panel.add(balanceField);
		panel.add(createButton);
		panel.add(cancelButton);
		
		this.add(panel,BorderLayout.NORTH);
		prepareBaseWindow();

	}
	
	public Branch getBranch() {
		Branch branch = (Branch)this.branchCombo.getSelectedItem();
		return branch;
	}
	
	public Customer getCustomer() {
		Customer customer = (Customer)this.customerCombo.getSelectedItem();
		return customer;
	}
	
	public String getAccountType() {
		return (String)this.accountTypeCombo.getSelectedItem();
	}
	
	public void prepareBaseWindow() {
		this.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
		this.setTitle("Account Create Form");
		this.setSize(800,400);
	}
}
