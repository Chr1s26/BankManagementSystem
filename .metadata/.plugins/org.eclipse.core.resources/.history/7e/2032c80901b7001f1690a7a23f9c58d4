package Service;

import DTO.CustomerDTO;
import DTO.EmployeeDTO;
import Model.Employee;
import Util.OTPUtil;
 	
public class OTPService extends BaseService {
	
	private EmailSenderService emailSenderService;
	public static String sendOtp;
	
	public OTPService(String toEmail,String subject) {
		sendOtp = OTPUtil.generateOTP(5);
		this.emailSenderService = new EmailSenderService(toEmail,subject,sendOtp);
	}
	
	
	public void sentOTPmail() {
		this.emailSenderService.setName("OTP thread");
		this.emailSenderService.start();
	}
	
	public void validateOTP(String otp) throws Exception {
		if(otp.equals(sendOtp)) {
			System.out.print("Otp validation success !!!");
		}
		else {
			System.out.print("Otp validation fail !!! ");
			throw new Exception("Otp validation fail !!! ");
		}
	}
}
